(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(A,e){A.exports="data:image/jpeg;base64,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"},32:function(A,e,t){A.exports=t(48)},37:function(A,e,t){},48:function(A,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),r=t(25),s=t.n(r),c=(t(37),t(5)),o=t(11),l=2,i={isAuthenticated:!1,user:{}},m=Object(o.c)({currentUser:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return{isAuthenticated:!!Object.keys(e.user).length,user:e.user};default:return A}},errors:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 0:return{message:e.error};case 1:return{message:null};default:return A}},posts:function(){var A,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 3:A=t.posts;break;case 4:A=e.filter(function(A){return A._id!==t.post});break;default:A=e}return A}}),u=t(27);var d=t(51),p=t(6),h=t(7),b=t(9),f=t(8),v=t(10),E=t(49),g=t(28);function j(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="/api/blog"+A;if(localStorage.jwtToken){var a,n=["Authorization","Bearer ".concat(localStorage.jwtToken)];e.headers||(e=Object(g.a)({},e,{headers:new Headers})),(a=e.headers).set.apply(a,n)}return new Promise(function(A,a){fetch(t,e).then(function(e){return e.ok?e.json().then(function(e){return A(e)}):e.status>=400&&e.status<500?e.json().then(function(A){return a(A.error)}):a({message:"Cannot reach the server. Try again later"})}).catch(function(A){return console.log("caught: ".concat(A.message))})})}var x=function(A){return{type:0,error:A}},N=function(){return{type:1}},O=t(15),y=t.n(O);function w(A){return{type:l,user:A}}var P=function(A){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(v.a)(e,A),Object(h.a)(e,[{key:"render",value:function(){var A=this.props,e=A.currentUser,t=A.logout;return n.a.createElement("nav",{className:"navbar navbar-expand navbar-light"},n.a.createElement("div",{className:"container"},n.a.createElement(E.a,{to:"/",className:"navbar-brand"},n.a.createElement("i",{id:"logo",className:"fas fa-comments"})),e.isAuthenticated?n.a.createElement("ul",{className:"nav navbar-nav navbar-right flex-row"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(E.a,{className:"nav-link",to:"/users/".concat(e.user.id,"/messages/new")},"New Message")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"btn btn-link nav-link",onClick:t},"Logout"))):n.a.createElement("ul",{className:"nav navbar-nav navbar-right flex-row"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(E.a,{className:"nav-link",to:"/login"},"Login")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(E.a,{className:"nav-link",to:"/register"},"Register")))))}}]),e}(a.Component);var U=Object(c.b)(function(A){return{currentUser:A.currentUser}},{logout:function(){return function(A){localStorage.clear(),A(w({}))}}})(P),H=t(53),z=t(50),T=t(52),R=function(A){return{type:3,posts:A}},V=function(A){return{type:4,post:A}};var M=t(29),B=t.n(M),Z=t(16),Y=t.n(Z),q=function(A){var e=A.text,t=A.date,a=A.image,r=A.user,s=A.deletePost,c=A.canDelete;return n.a.createElement("div",{className:"post card d-flex flex-row"},n.a.createElement("div",{className:"card-aside"},n.a.createElement("img",{src:a||Y.a,alt:r.username,className:"img-fluid"}),n.a.createElement(E.a,{to:"/"},n.a.createElement("h5",null,"@",r.username)),n.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},n.a.createElement(B.a,{format:"Do MMM YYYY"},t)),c&&n.a.createElement("button",{className:"btn btn-link",onClick:s},"Delete")),n.a.createElement("div",{className:"card-body w-75"},n.a.createElement("p",{className:"card-text"},e)))},D=function(A){var e=A.image,t=A.user,a=A.className;return n.a.createElement("aside",{className:a},n.a.createElement("div",{className:"panel panel-default"},n.a.createElement("div",{className:"panel-body text-center"},n.a.createElement("img",{className:"img-thumbnail",src:e||Y.a,alt:t.username}),n.a.createElement("h5",null,t.username))))},X=function(A){function e(){var A,t;Object(p.a)(this,e);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=Object(b.a)(this,(A=Object(f.a)(e)).call.apply(A,[this].concat(n)))).deletePost=function(A){return function(){t.props.deletePost(A)}},t}return Object(v.a)(e,A),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var A=this,e=this.props.currentUser,t=this.props.posts.map(function(t){return n.a.createElement(q,Object.assign({key:t._id},t,{deletePost:A.deletePost(t._id),canDelete:!!e.user&&e.user.id===t.user._id}))});return n.a.createElement("div",{className:"row"},n.a.createElement(D,Object.assign({className:"col-md-3"},e)),n.a.createElement("div",{className:"col-md-9 d-flex flex-column justify-content-center align-items-center w-md-50 mx-auto"},t))}}]),e}(a.Component);var k=Object(c.b)(function(A){return{currentUser:A.currentUser,posts:A.posts}},{getPosts:function(){return function(A){return j("/posts").then(function(e){return A(R(e))}).catch(function(e){return A(x(e.message))})}},deletePost:function(A){return function(e,t){return new Promise(function(a,n){var r=t().currentUser.user.id;return j("/user/".concat(r,"/post/").concat(A),{method:"delete"}).then(function(A){e(V(A._id)),a()}).catch(function(A){e(x(A.message)),n()})})}}})(X),F=function(A){var e=A.currentUser,t=A.errors;return e.isAuthenticated?n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"text-center"},"Posts Timeline"),t.message&&n.a.createElement("div",{className:"alert alert-danger"},t.message),n.a.createElement(k,null)):n.a.createElement("div",{className:"jumbotron"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"display-4"},"Let's Communicate"),n.a.createElement("p",{className:"lead"},"This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information."),n.a.createElement(E.a,{to:"/register",className:"btn btn-primary btn-lg"},"Sign up here")))},W=t(13),C=function(A){function e(A){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(f.a)(e).call(this,A))).handleChange=function(A){return t.setState(Object(W.a)({},A.target.name,A.target.value))},t.handleSubmit=function(A){A.preventDefault();var e=t.props.register?"signup":"signin";t.props.onAuth(e,t.state).then(function(){return t.props.history.push("/")}).catch(function(A){return console.log(A)})},t.state={username:"",email:"hacker@mail.me",password:"password",image:""},t}return Object(v.a)(e,A),Object(h.a)(e,[{key:"render",value:function(){var A=this.state,e=A.username,t=A.email,a=A.password,r=A.image,s=this.props,c=s.heading,o=s.buttonText,l=s.register,i=s.errors,m=s.history,u=s.removeError,d="col-md-2 col-form-label",p="form-group row justify-content-md-center";return m.listen(function(){u()}),n.a.createElement("div",null,n.a.createElement("div",{className:"justify-content-md-center text-center container"},n.a.createElement("h2",null,c),i.message&&n.a.createElement("div",{className:"alert alert-danger"},i.message),n.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:p},n.a.createElement("label",{className:d,htmlFor:"email"},"Email:"),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"text",name:"email",className:"form-control ml-2",id:"email",onChange:this.handleChange,value:t,autoComplete:"false"}))),n.a.createElement("div",{className:p},n.a.createElement("label",{className:d,htmlFor:"password"},"Password:"),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"password",name:"password",className:"form-control ml-2",id:"password",onChange:this.handleChange,value:a,autoComplete:"false"}))),l&&n.a.createElement("div",null,n.a.createElement("div",{className:p},n.a.createElement("label",{className:d,htmlFor:"username"},"Username:"),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"text",name:"username",className:"form-control ml-2",id:"username",onChange:this.handleChange,value:e,autoComplete:"false"}))),n.a.createElement("div",{className:p},n.a.createElement("label",{className:d,htmlFor:"image"},"Image URL:"),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"text",name:"image",className:"form-control ml-2",id:"image",onChange:this.handleChange,value:r,autoComplete:"false"})))),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},o))))}}]),e}(a.Component),L=t(12),J=function(A){function e(A){var t;return Object(p.a)(this,e),(t=Object(b.a)(this,Object(f.a)(e).call(this,A))).state={text:""},t.handleChange=t.handleChange.bind(Object(L.a)(Object(L.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(L.a)(Object(L.a)(t))),t}return Object(v.a)(e,A),Object(h.a)(e,[{key:"handleChange",value:function(A){this.setState(Object(W.a)({},A.target.name,A.target.value))}},{key:"handleSubmit",value:function(A){var e=this;A.preventDefault(),this.props.createPost(this.state).then(function(){return e.props.history.push("/")}).catch(function(A){return console.log(A)})}},{key:"render",value:function(){var A=this.state.text,e=this.props,t=e.errors,a=e.history,r=e.removeError;return a.listen(function(){return r()}),n.a.createElement("div",null,n.a.createElement("div",{className:"justify-content-md-center text-center container"},n.a.createElement("h2",null,"Create new post"),t.message&&n.a.createElement("div",{className:"alert alert-danger"},t.message),n.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group row justify-content-md-center"},n.a.createElement("label",{className:"col-md-2 col-form-label",htmlFor:"text"},"Text:"),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("textarea",{name:"text",className:"form-control ml-2",id:"text",onChange:this.handleChange,value:A,autoComplete:"false",rows:"10"}))),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))))}}]),e}(a.Component);var S=Object(c.b)(function(A){return{errors:A.errors}},{createPost:function(A){return function(e,t){return new Promise(function(a,n){var r=t().currentUser.user.id,s={method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(A)};return j("/user/".concat(r,"/post"),s).then(function(A){return a()}).catch(function(A){e(x(A.message)),n()})})}},removeError:N})(J);function I(A){var e=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){!1===this.props.isAuthenticated&&this.props.history.push("/login")}},{key:"componentWillUpdate",value:function(A){!1===this.nextProps.isAuthenticated&&this.props.history.push("/login")}},{key:"render",value:function(){return n.a.createElement(A,this.props)}}]),t}(a.Component);return Object(c.b)(function(A){return{isAuthenticated:A.currentUser.isAuthenticated}})(e)}var Q=Object(c.b)(function(A){return{currentUser:A.currentUser,errors:A.errors}},{authUser:function(A,e){return function(t){return new Promise(function(a,n){var r={method:"post",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)};j("/auth/".concat(A),r).then(function(A){localStorage.setItem("jwtToken",A.token);var e=y()(A.token);t(w(e)),t(N()),a()}).catch(function(A){t(x(A.message)),console.log(A.message),n()})})}},removeError:N}),K=Object(T.a)(Q(function(A){var e=A.authUser,t=A.errors,a=A.removeError,r=A.currentUser;return n.a.createElement(H.a,null,n.a.createElement(z.a,{exact:!0,path:"/",render:function(A){return n.a.createElement(F,Object.assign({currentUser:r,errors:t},A))}}),n.a.createElement(z.a,{exact:!0,path:"/login",render:function(A){return n.a.createElement(C,Object.assign({removeError:a,errors:t,buttonText:"Log in",heading:"Login"},A,{onAuth:e}))}}),n.a.createElement(z.a,{exact:!0,path:"/register",render:function(A){return n.a.createElement(C,Object.assign({removeError:a,errors:t,register:!0,buttonText:"Sign up",heading:"Register"},A,{onAuth:e}))}}),n.a.createElement(z.a,{path:"/users/:id/messages/new",component:I(S)}))})),G=Object(o.e)(m,Object(o.d)(Object(o.a)(u.a)));if(localStorage.jwtToken)try{var _=y()(localStorage.jwtToken);G.dispatch(w(_))}catch(AA){G.dispatch(w({}))}var $=function(){return n.a.createElement(c.a,{store:G},n.a.createElement(d.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(U,null),n.a.createElement(K,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(A){A.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.4fa365f1.chunk.js.map